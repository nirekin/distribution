---
ekara:
  components:
    ek-aws:
      repository: ekara-platform/aws-provider
      ref: master
    ek-swarm:
      repository: ekara-platform/swarm-orchestrator
      ref: master
    ek-swarm-visualizer:
      repository: ekara-platform/swarm-visualizer-stack
      ref: v1.0.0

providers:
  ek-aws:
    component: ek-aws
    params:
      securityGroups:
        ek-ssh:
          rules:
          - proto: tcp
            ports:
            - 22
            cidr_ip: 0.0.0.0/0
            rule_desc: Node SSH access
        ek-swarm:
          rules:
          - proto: tcp
            ports:
            - 2377
            - 7946
            cidr_ip: 0.0.0.0/0
            rule_desc: Swarm TCP communication
          - proto: udp
            ports:
            - 7946
            - 4789
            cidr_ip: 0.0.0.0/0
            rule_desc: Swarm UDP communication

orchestrator:
  component: ek-swarm
